{"version":3,"file":"index.js","sources":["../src/native.ts","../src/utils.ts","../src/constants.ts","../src/events.ts","../src/configurations.ts","../src/tracker.ts","../src/subject.ts","../src/api.ts","../src/index.ts"],"sourcesContent":["/*\n * Copyright (c) 2020-2021 Snowplow Analytics Ltd. All rights reserved.\n *\n * This program is licensed to you under the Apache License Version 2.0,\n * and you may not use this file except in compliance with the Apache License Version 2.0.\n * You may obtain a copy of the Apache License Version 2.0 at http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the Apache License Version 2.0 is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the Apache License Version 2.0 for the specific language governing permissions and limitations there under.\n */\n\n'use strict';\n\nimport { NativeModules } from 'react-native';\n\nconst { RNSnowplowTracker } = NativeModules;\n\nexport {\n  RNSnowplowTracker\n};\n","/*\n * Copyright (c) 2020-2021 Snowplow Analytics Ltd. All rights reserved.\n *\n * This program is licensed to you under the Apache License Version 2.0,\n * and you may not use this file except in compliance with the Apache License Version 2.0.\n * You may obtain a copy of the Apache License Version 2.0 at http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the Apache License Version 2.0 is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the Apache License Version 2.0 for the specific language governing permissions and limitations there under.\n */\n\n'use strict';\n\n/**\n * Returns a function that accepts a side-effect function as its argument and subscribes\n * that function to aPromise's fullfillment,\n * and errHandle to aPromise's rejection.\n *\n * @param aPromise - A void Promise\n * @param errHandle - A function to handle the promise being rejected\n * @returns - A function subscribed to the Promise's fullfillment\n */\nfunction safeWait(aPromise: Promise<void>, errHandle: ((err: Error) => void)) {\n  return (<F extends ((...args: never[]) => Promise<void>)>(func: F) => {\n    return (...args: Parameters<F>): Promise<void> => {\n      return aPromise.then(() => func(...args)).catch((err) => errHandle(err));\n    };\n  });\n}\n\n/**\n * Returns a function that accepts a callback function as its argument and subscribes\n * that function to aPromise's fullfillment,\n * and errHandle to aPromise's rejection.\n *\n * @param aPromise - A void Promise\n * @param errHandle - A function to handle the promise being rejected\n * @returns - A function subscribed to the Promise's fullfillment\n */\nfunction safeWaitCallback(\n  callPromise: Promise<void>,\n  errHandle: ((err: Error) => undefined)\n) {\n  return (<T,F extends ((...args: never[]) => Promise<T>)>(func: F) => {\n    return (...args: Parameters<F>): ReturnType<F> | Promise<undefined> => {\n      return callPromise.then(() => <ReturnType<F>>func(...args)).catch((err) => errHandle(err));\n    };\n  });\n}\n\n/**\n * Handles an error.\n *\n * @param err - The error to be handled.\n */\nfunction errorHandler(err: Error): undefined {\n  if (__DEV__) {\n    console.warn('SnowplowTracker:' + err.message);\n    return undefined;\n  }\n  return undefined;\n}\n\n/**\n * Helper to check whether its argument is of object type\n *\n * @param x - The argument to check.\n * @returns - A boolean\n */\nfunction isObject<Type>(x: Type): boolean {\n  return Object.prototype.toString.call(x) === '[object Object]';\n}\n\nexport {\n  safeWait,\n  safeWaitCallback,\n  errorHandler,\n  isObject\n};\n","/*\n * Copyright (c) 2020-2021 Snowplow Analytics Ltd. All rights reserved.\n *\n * This program is licensed to you under the Apache License Version 2.0,\n * and you may not use this file except in compliance with the Apache License Version 2.0.\n * You may obtain a copy of the Apache License Version 2.0 at http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the Apache License Version 2.0 is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the Apache License Version 2.0 for the specific language governing permissions and limitations there under.\n */\n\n'use strict';\n\nconst logMessages = {\n  // configuration errors\n  namespace: 'namespace parameter is required to be set',\n  endpoint: 'endpoint parameter is required to be set',\n  network: 'networkConfig is invalid',\n  tracker: 'trackerConfig is invalid',\n  session: 'sessionConfig is invalid',\n  emitter: 'emitterConfig is invalid',\n  subject: 'subjectConfig is invalid',\n  gdpr: 'gdprConfig is invalid',\n  gc: 'gcConfig is invalid',\n\n  // event errors\n  context: 'invalid contexts parameter',\n  selfDesc: 'selfDescribing event requires schema and data parameters to be set',\n  evType: 'event argument can only be an object',\n  screenViewReq: 'screenView event requires name as string parameter to be set',\n  structuredReq: 'structured event requires category and action parameters to be set',\n  pageviewReq: 'pageView event requires pageUrl parameter to be set',\n  timingReq: 'timing event requires category, variable and timing parameters to be set',\n  consentGReq: 'consentGranted event requires expiry, documentId and version parameters to be set',\n  consentWReq: 'consentWithdrawn event requires all, documentId and version parameters to be set',\n  ecomReq: 'ecommerceTransaction event requires orderId, totalValue to be set and items to be an array of valid ecommerceItems',\n\n  // global contexts errors\n  gcTagType: 'tag argument is required to be a string',\n  gcType: 'global context argument is invalid',\n\n  // api error prefix\n  createTracker: 'createTracker:',\n  removeTracker: 'removeTracker: trackerNamespace can only be a string',\n\n  // methods\n  trackSelfDesc: 'trackSelfDescribingEvent:',\n  trackScreenView: 'trackScreenViewEvent:',\n  trackStructured: 'trackStructuredEvent:',\n  trackPageView: 'trackPageViewEvent:',\n  trackTiming: 'trackTimingEvent:',\n  trackConsentGranted: 'trackConsentGranted:',\n  trackConsentWithdrawn: 'trackConsentWithdrawn:',\n  trackEcommerceTransaction: 'trackEcommerceTransaction:',\n  removeGlobalContexts: 'removeGlobalContexts:',\n  addGlobalContexts: 'addGlobalContexts:',\n\n  // setters\n  setUserId: 'setUserId: userId can only be a string or null',\n  setNetworkUserId: 'setNetworkUserId: networkUserId can only be a string(UUID) or null',\n  setDomainUserId: 'setDomainUserId: domainUserId can only be a string(UUID) or null',\n  setIpAddress: 'setIpAddress: ipAddress can only be a string or null',\n  setUseragent: 'setUseragent: useragent can only be a string or null',\n  setTimezone: 'setTimezone: timezone can only be a string or null',\n  setLanguage: 'setLanguage: language can only be a string or null',\n  setScreenResolution: 'setScreenResolution: screenResolution can only be of ScreenSize type or null',\n  setScreenViewport: 'setScreenViewport: screenViewport can only be of ScreenSize type or null',\n  setColorDepth: 'setColorDepth: colorDepth can only be a number(integer) or null',\n  setSubjectData: 'setSubjectData:',\n};\n\nexport {\n  logMessages,\n};\n","/*\n * Copyright (c) 2020-2021 Snowplow Analytics Ltd. All rights reserved.\n *\n * This program is licensed to you under the Apache License Version 2.0,\n * and you may not use this file except in compliance with the Apache License Version 2.0.\n * You may obtain a copy of the Apache License Version 2.0 at http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the Apache License Version 2.0 is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the Apache License Version 2.0 for the specific language governing permissions and limitations there under.\n */\n\n'use strict';\n\nimport { isObject } from './utils';\nimport { logMessages } from './constants';\nimport type {\n  SelfDescribing,\n  EventContext,\n  ScreenViewProps,\n  StructuredProps,\n  PageViewProps,\n  TimingProps,\n  ConsentGrantedProps,\n  ConsentWithdrawnProps,\n  EcommerceItem,\n  EcommerceTransactionProps,\n} from './types';\n\n/**\n * Validates whether an object is valid self-describing\n *\n * @param sd {Object} - the object to validate\n * @returns - boolean\n */\nfunction isValidSD(sd: SelfDescribing | EventContext): boolean {\n  return isObject(sd)\n    && typeof sd.schema === 'string'\n    && isObject(sd.data);\n}\n\n/**\n * Validates whether an object is a valid array of contexts\n *\n * @param contexts {Object} - the object to validate\n * @returns - boolean promise\n */\nfunction validateContexts(contexts: EventContext[]): Promise<boolean> {\n  const isValid = Object.prototype.toString.call(contexts) === '[object Array]'\n    && contexts\n      .map((c) => isValidSD(c))\n      .reduce((acc,curr) => acc !== false && curr, true);\n\n  if (!isValid) {\n    return Promise.reject(new Error(logMessages.context));\n  }\n\n  return Promise.resolve(true);\n}\n\n/**\n * Validates whether an object is valid self describing\n *\n * @param argmap {Object} - the object to validate\n * @returns - boolean promise\n */\nfunction validateSelfDesc(argmap: SelfDescribing,): Promise<boolean> {\n  if (!isValidSD(argmap)) {\n    return Promise.reject(new Error(logMessages.selfDesc));\n  }\n\n  return Promise.resolve(true);\n}\n\n/**\n * Validates a screen view event\n *\n * @param argmap {Object} - the object to validate\n * @returns - boolean promise\n */\nfunction validateScreenView(argmap: ScreenViewProps): Promise<boolean> {\n  // validate type\n  if (!isObject(argmap)) {\n    return Promise.reject(new Error(logMessages.evType));\n  }\n  // validate required props\n  if (typeof argmap.name !== 'string') {\n    return Promise.reject(new Error(logMessages.screenViewReq));\n  }\n\n  return Promise.resolve(true);\n}\n\n/**\n * Validates a structured event\n *\n * @param argmap {Object} - the object to validate\n * @returns - boolean promise\n */\nfunction validateStructured(argmap: StructuredProps): Promise<boolean> {\n  // validate type\n  if (!isObject(argmap)) {\n    return Promise.reject(new Error(logMessages.evType));\n  }\n  // validate required props\n  if (\n    typeof argmap.category !== 'string'\n      || typeof argmap.action !== 'string'\n  ) {\n    return Promise.reject(new Error(logMessages.structuredReq));\n  }\n\n  return Promise.resolve(true);\n}\n\n/**\n * Validates a page-view event\n *\n * @param argmap {Object} - the object to validate\n * @returns - boolean promise\n */\nfunction validatePageView(argmap: PageViewProps): Promise<boolean> {\n  // validate type\n  if (!isObject(argmap)) {\n    return Promise.reject(new Error(logMessages.evType));\n  }\n  // validate required props\n  if (typeof argmap.pageUrl !== 'string') {\n    return Promise.reject(new Error(logMessages.pageviewReq));\n  }\n\n  return Promise.resolve(true);\n}\n\n/**\n * Validates a timing event\n *\n * @param argmap {Object} - the object to validate\n * @returns - boolean promise\n */\nfunction validateTiming(argmap: TimingProps): Promise<boolean> {\n  // validate type\n  if (!isObject(argmap)) {\n    return Promise.reject(new Error(logMessages.evType));\n  }\n  // validate required props\n  if (\n    typeof argmap.category !== 'string'\n      || typeof argmap.variable !== 'string'\n      || typeof argmap.timing !== 'number'\n  ) {\n    return Promise.reject(new Error(logMessages.timingReq));\n  }\n\n  return Promise.resolve(true);\n}\n\n/**\n * Validates a consent-granted event\n *\n * @param argmap {Object} - the object to validate\n * @returns - boolean promise\n */\nfunction validateConsentGranted(argmap: ConsentGrantedProps): Promise<boolean> {\n  // validate type\n  if (!isObject(argmap)) {\n    return Promise.reject(new Error(logMessages.evType));\n  }\n  // validate required props\n  if (\n    typeof argmap.expiry !== 'string'\n      || typeof argmap.documentId !== 'string'\n      || typeof argmap.version !== 'string'\n  ) {\n    return Promise.reject(new Error(logMessages.consentGReq));\n  }\n\n  return Promise.resolve(true);\n}\n\n/**\n * Validates a consent-withdrawn event\n *\n * @param argmap {Object} - the object to validate\n * @returns - boolean promise\n */\nfunction validateConsentWithdrawn(argmap: ConsentWithdrawnProps): Promise<boolean> {\n  // validate type\n  if (!isObject(argmap)) {\n    return Promise.reject(new Error(logMessages.evType));\n  }\n  // validate required props\n  if (\n    typeof argmap.all !== 'boolean'\n      || typeof argmap.documentId !== 'string'\n      || typeof argmap.version !== 'string'\n  ) {\n    return Promise.reject(new Error(logMessages.consentWReq));\n  }\n\n  return Promise.resolve(true);\n}\n\n/**\n * Validates whether an object is valid ecommerce-item\n *\n * @param item {Object} - the object to validate\n * @returns - boolean\n */\nfunction isValidEcomItem(item: EcommerceItem): boolean {\n  if (\n    isObject(item)\n      && typeof item.sku === 'string'\n      && typeof item.price === 'number'\n      && typeof item.quantity === 'number'\n  ) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Validates an array of ecommerce-items\n *\n * @param items {Object} - the object to validate\n * @returns - boolean promise\n */\nfunction validItemsArg(items: EcommerceItem[]): boolean {\n  return Object.prototype.toString.call(items) === '[object Array]'\n    && items\n      .map((i) => isValidEcomItem(i))\n      .reduce((acc,curr) => acc !== false && curr, true);\n}\n\n/**\n * Validates an ecommerce-transaction event\n *\n * @param argmap {Object} - the object to validate\n * @returns - boolean promise\n */\nfunction validateEcommerceTransaction(argmap: EcommerceTransactionProps): Promise<boolean> {\n  // validate type\n  if (!isObject(argmap)) {\n    return Promise.reject(new Error(logMessages.evType));\n  }\n  // validate required props\n  if (\n    typeof argmap.orderId !== 'string'\n      || typeof argmap.totalValue !== 'number'\n      || !validItemsArg(argmap.items)\n  ) {\n    return Promise.reject(new Error(logMessages.ecomReq));\n  }\n\n  return Promise.resolve(true);\n}\n\nexport {\n  isValidSD,\n  validateContexts,\n  validateSelfDesc,\n  validateScreenView,\n  validateStructured,\n  validatePageView,\n  validateTiming,\n  validateConsentGranted,\n  validateConsentWithdrawn,\n  isValidEcomItem,\n  validItemsArg,\n  validateEcommerceTransaction,\n};\n","/*\n * Copyright (c) 2020-2021 Snowplow Analytics Ltd. All rights reserved.\n *\n * This program is licensed to you under the Apache License Version 2.0,\n * and you may not use this file except in compliance with the Apache License Version 2.0.\n * You may obtain a copy of the Apache License Version 2.0 at http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the Apache License Version 2.0 is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the Apache License Version 2.0 for the specific language governing permissions and limitations there under.\n */\n\n'use strict';\n\nimport { isObject } from './utils';\nimport { isValidSD } from './events';\nimport { logMessages } from './constants';\nimport type {\n  NetworkConfiguration,\n  TrackerConfiguration,\n  SessionConfiguration,\n  EmitterConfiguration,\n  SubjectConfiguration,\n  GdprConfiguration,\n  GCConfiguration,\n  GlobalContext,\n  InitTrackerConfiguration\n} from './types';\n\n\n/**\n * Configuration properties\n */\nconst networkProps = ['endpoint', 'method'];\nconst trackerProps= [\n  'appId',\n  'devicePlatform',\n  'base64Encoding',\n  'logLevel',\n  'applicationContext',\n  'platformContext',\n  'geoLocationContext',\n  'sessionContext',\n  'screenContext',\n  'screenViewAutotracking',\n  'lifecycleAutotracking',\n  'installAutotracking',\n  'exceptionAutotracking',\n  'diagnosticAutotracking'\n];\nconst sessionProps = [\n  'foregroundTimeout',\n  'backgroundTimeout'\n];\nconst emitterProps = [\n  'bufferOption',\n  'emitRange',\n  'threadPoolSize',\n  'byteLimitPost',\n  'byteLimitGet',\n];\nconst subjectProps = [\n  'userId',\n  'networkUserId',\n  'domainUserId',\n  'useragent',\n  'ipAddress',\n  'timezone',\n  'language',\n  'screenResolution',\n  'screenViewport',\n  'colorDepth'\n];\nconst gdprProps = [\n  'basisForProcessing',\n  'documentId',\n  'documentVersion',\n  'documentDescription'\n];\nconst gcProps = [\n  'tag',\n  'globalContexts'\n];\n\n/**\n * Validates whether an object is of valid configuration given its default keys\n *\n * @param config {Object} - the object to validate\n * @param defaultKeys {Array} - the default keys to validate against\n * @returns - boolean\n */\nfunction isValidConfig<Type>(config: Type, defaultKeys: Array<string>): config is Type {\n  return Object.keys(config).every(key => defaultKeys.includes(key));\n}\n\n/**\n * Validates the networkConfig\n *\n * @param config {Object} - the config to validate\n * @returns - boolean\n */\nfunction isValidNetworkConf(config: NetworkConfiguration): boolean {\n  if (\n    !isObject(config)\n      || !isValidConfig(config, networkProps)\n      || typeof config.endpoint !== 'string'\n      || !config.endpoint\n  ) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Validates the trackerConfig\n *\n * @param config {Object} - the config to validate\n * @returns - boolean\n */\nfunction isValidTrackerConf(config: TrackerConfiguration): boolean {\n  if (!isObject(config) || !isValidConfig(config, trackerProps)) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Validates the sessionConfig\n *\n * @param config {Object} - the config to validate\n * @returns - boolean\n */\nfunction isValidSessionConf(config: SessionConfiguration): boolean {\n  if (\n    !isObject(config)\n      || !isValidConfig(config, sessionProps)\n      || !sessionProps.every(key => Object.keys(config as SessionConfiguration).includes(key))\n  ) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Validates the emitterConfig\n *\n * @param config {Object} - the config to validate\n * @returns - boolean\n */\nfunction isValidEmitterConf(config: EmitterConfiguration): boolean {\n  if (!isObject(config) || !isValidConfig(config, emitterProps)) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Validates whether an object is of ScreenSize type\n *\n * @param arr {Object} - the object to validate\n * @returns - boolean\n */\nfunction isScreenSize<Type>(arr: Type): boolean {\n  return Array.isArray(arr)\n    && arr.length === 2\n    && arr.every(<Type>(n: Type) => typeof n === 'number');\n}\n\n/**\n * Validates the subjectConfig\n *\n * @param config {Object} - the config to validate\n * @returns - boolean\n */\nfunction isValidSubjectConf(config: SubjectConfiguration): boolean {\n  if (\n    !isObject(config) || !isValidConfig(config, subjectProps)\n  ) {\n    return false;\n  }\n\n  // validating ScreenSize here to simplify array handling in bridge\n  if (\n    Object.prototype.hasOwnProperty.call(config, 'screenResolution')\n      && config.screenResolution !== null\n      && !isScreenSize(config.screenResolution as unknown)\n  ) {\n    return false;\n  }\n\n  if (\n    Object.prototype.hasOwnProperty.call(config, 'screenViewport')\n      && config.screenViewport !== null\n      && !isScreenSize(config.screenViewport as unknown)\n  ) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Validates the gdprConfig\n *\n * @param config {Object} - the config to validate\n * @returns - boolean\n */\nfunction isValidGdprConf(config: GdprConfiguration): boolean {\n  if (\n    !isObject(config)\n      || !isValidConfig(config, gdprProps)\n      || !gdprProps.every(key => Object.keys(config as GdprConfiguration).includes(key))\n      || !['consent', 'contract', 'legal_obligation', 'legitimate_interests', 'public_task', 'vital_interests'].includes(config.basisForProcessing)\n  ) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Validates whether an object is of GlobalContext type\n *\n * @param gc {Object} - the object to validate\n * @returns - boolean\n */\nfunction isValidGC(gc: GlobalContext): boolean {\n  return isObject(gc)\n    && isValidConfig(gc, gcProps)\n    && typeof gc.tag === 'string'\n    && Array.isArray(gc.globalContexts)\n    && gc.globalContexts.every(c => isValidSD(c));\n}\n\n/**\n * Validates the GCConfig (global contexts)\n *\n * @param config {Object} - the config to validate\n * @returns - boolean\n */\nfunction isValidGCConf(config: GCConfiguration): boolean {\n  if (!Array.isArray(config)) {\n    return false;\n  }\n  if (!config.every(gc => isValidGC(gc as GlobalContext))) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Validates the initTrackerConfiguration\n *\n * @param init {Object} - the config to validate\n * @returns - boolean promise\n */\nfunction initValidate(init: InitTrackerConfiguration): Promise<boolean> {\n  if (typeof init.namespace !== 'string'  || !init.namespace) {\n    return Promise.reject(new Error(logMessages.namespace));\n  }\n\n  if (\n    !Object.prototype.hasOwnProperty.call(init, 'networkConfig')\n      || !isValidNetworkConf(init.networkConfig as NetworkConfiguration)\n  ) {\n    return Promise.reject(new Error(logMessages.network));\n  }\n\n  if (\n    Object.prototype.hasOwnProperty.call(init, 'trackerConfig')\n      && !isValidTrackerConf(init.trackerConfig as TrackerConfiguration)\n  ) {\n    return Promise.reject(new Error(logMessages.tracker));\n  }\n\n  if (\n    Object.prototype.hasOwnProperty.call(init, 'sessionConfig')\n      && (!isValidSessionConf(init.sessionConfig as SessionConfiguration))\n  ) {\n    return Promise.reject(new Error(logMessages.session));\n  }\n\n  if (\n    Object.prototype.hasOwnProperty.call(init, 'emitterConfig')\n      && !isValidEmitterConf(init.emitterConfig as EmitterConfiguration)\n  ) {\n    return Promise.reject(new Error(logMessages.emitter));\n  }\n\n  if (\n    Object.prototype.hasOwnProperty.call(init, 'subjectConfig')\n      && !isValidSubjectConf(init.subjectConfig as SubjectConfiguration)\n  ) {\n    return Promise.reject(new Error(logMessages.subject));\n  }\n\n  if (\n    Object.prototype.hasOwnProperty.call(init, 'gdprConfig')\n      && !isValidGdprConf(init.gdprConfig as GdprConfiguration)) {\n    return Promise.reject(new Error(logMessages.gdpr));\n  }\n\n  if (\n    Object.prototype.hasOwnProperty.call(init, 'gcConfig')\n      && !isValidGCConf(init.gcConfig as GCConfiguration)) {\n    return Promise.reject(new Error(logMessages.gc));\n  }\n\n  return Promise.resolve(true);\n}\n\nexport {\n  isValidNetworkConf,\n  isValidTrackerConf,\n  isValidSessionConf,\n  isValidEmitterConf,\n  isValidSubjectConf,\n  isValidGdprConf,\n  isValidGCConf,\n  isValidGC,\n  isScreenSize,\n  initValidate,\n};\n","/*\n * Copyright (c) 2020-2021 Snowplow Analytics Ltd. All rights reserved.\n *\n * This program is licensed to you under the Apache License Version 2.0,\n * and you may not use this file except in compliance with the Apache License Version 2.0.\n * You may obtain a copy of the Apache License Version 2.0 at http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the Apache License Version 2.0 is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the Apache License Version 2.0 for the specific language governing permissions and limitations there under.\n */\n\n\"use strict\";\n\nimport { RNSnowplowTracker } from \"./native\";\nimport { logMessages } from \"./constants\";\nimport {\n  validateContexts,\n  validateSelfDesc,\n  validateScreenView,\n  validateStructured,\n  validatePageView,\n  validateTiming,\n  validateConsentGranted,\n  validateConsentWithdrawn,\n  validateEcommerceTransaction,\n} from \"./events\";\nimport type {\n  SelfDescribing,\n  EventContext,\n  ScreenViewProps,\n  StructuredProps,\n  PageViewProps,\n  TimingProps,\n  ConsentGrantedProps,\n  ConsentWithdrawnProps,\n  EcommerceTransactionProps,\n} from \"./types\";\n\n/**\n * Tracks a self-describing event\n *\n * @param namespace {string} - the tracker namespace\n * @param argmap {Object} - the event data\n * @param contexts {Array}- the event contexts\n * @returns {Promise}\n */\nfunction trackSelfDescribingEvent(\n  namespace: string,\n  argmap: SelfDescribing,\n  contexts: EventContext[] = []\n): Promise<void> {\n  return <Promise<void>>validateSelfDesc(argmap)\n    .then(() => validateContexts(contexts))\n    .then(\n      () => <Promise<void>>RNSnowplowTracker.trackSelfDescribingEvent({\n          tracker: namespace,\n          eventData: argmap,\n          contexts: contexts,\n        })\n    )\n    .catch((error) => {\n      throw new Error(`${logMessages.trackSelfDesc} ${error.message}`);\n    });\n}\n\n/**\n * Tracks a screen-view event\n *\n * @param namespace {string} - the tracker namespace\n * @param argmap {Object} - the event data\n * @param contexts {Array}- the event contexts\n * @returns {Promise}\n */\nfunction trackScreenViewEvent(\n  namespace: string,\n  argmap: ScreenViewProps,\n  contexts: EventContext[] = []\n): Promise<void> {\n  return <Promise<void>>validateScreenView(argmap)\n    .then(() => validateContexts(contexts))\n    .then(\n      () => <Promise<void>>RNSnowplowTracker.trackScreenViewEvent({\n          tracker: namespace,\n          eventData: argmap,\n          contexts: contexts,\n        })\n    )\n    .catch((error) => {\n      throw new Error(`${logMessages.trackScreenView} ${error.message}`);\n    });\n}\n\n/**\n * Tracks a structured event\n *\n * @param namespace {string} - the tracker namespace\n * @param argmap {Object} - the event data\n * @param contexts {Array}- the event contexts\n * @returns {Promise}\n */\nfunction trackStructuredEvent(\n  namespace: string,\n  argmap: StructuredProps,\n  contexts: EventContext[] = []\n): Promise<void> {\n  return <Promise<void>>validateStructured(argmap)\n    .then(() => validateContexts(contexts))\n    .then(\n      () => <Promise<void>>RNSnowplowTracker.trackStructuredEvent({\n          tracker: namespace,\n          eventData: argmap,\n          contexts: contexts,\n        })\n    )\n    .catch((error) => {\n      throw new Error(\n        `${logMessages.trackStructured} ${error.message} data: ${JSON.stringify(\n          argmap\n        )}`\n      );\n    });\n}\n\n/**\n * Tracks a page-view event\n *\n * @param namespace {string} - the tracker namespace\n * @param argmap {Object} - the event data\n * @param contexts {Array}- the event contexts\n * @returns {Promise}\n */\nfunction trackPageViewEvent(\n  namespace: string,\n  argmap: PageViewProps,\n  contexts: EventContext[] = []\n): Promise<void> {\n  return <Promise<void>>validatePageView(argmap)\n    .then(() => validateContexts(contexts))\n    .then(\n      () => <Promise<void>>RNSnowplowTracker.trackPageViewEvent({\n          tracker: namespace,\n          eventData: argmap,\n          contexts: contexts,\n        })\n    )\n    .catch((error) => {\n      throw new Error(`${logMessages.trackPageView} ${error.message}`);\n    });\n}\n\n/**\n * Tracks a timing event\n *\n * @param namespace {string} - the tracker namespace\n * @param argmap {Object} - the event data\n * @param contexts {Array}- the event contexts\n * @returns {Promise}\n */\nfunction trackTimingEvent(\n  namespace: string,\n  argmap: TimingProps,\n  contexts: EventContext[] = []\n): Promise<void> {\n  return <Promise<void>>validateTiming(argmap)\n    .then(() => validateContexts(contexts))\n    .then(\n      () => <Promise<void>>RNSnowplowTracker.trackTimingEvent({\n          tracker: namespace,\n          eventData: argmap,\n          contexts: contexts,\n        })\n    )\n    .catch((error) => {\n      throw new Error(`${logMessages.trackTiming} ${error.message}`);\n    });\n}\n\n/**\n * Tracks a consent-granted event\n *\n * @param namespace {string} - the tracker namespace\n * @param argmap {Object} - the event data\n * @param contexts {Array}- the event contexts\n * @returns {Promise}\n */\nfunction trackConsentGrantedEvent(\n  namespace: string,\n  argmap: ConsentGrantedProps,\n  contexts: EventContext[] = []\n): Promise<void> {\n  return <Promise<void>>validateConsentGranted(argmap)\n    .then(() => validateContexts(contexts))\n    .then(\n      () => <Promise<void>>RNSnowplowTracker.trackConsentGrantedEvent({\n          tracker: namespace,\n          eventData: argmap,\n          contexts: contexts,\n        })\n    )\n    .catch((error) => {\n      throw new Error(`${logMessages.trackConsentGranted} ${error.message}`);\n    });\n}\n\n/**\n * Tracks a consent-withdrawn event\n *\n * @param namespace {string} - the tracker namespace\n * @param argmap {Object} - the event data\n * @param contexts {Array}- the event contexts\n * @returns {Promise}\n */\nfunction trackConsentWithdrawnEvent(\n  namespace: string,\n  argmap: ConsentWithdrawnProps,\n  contexts: EventContext[] = []\n): Promise<void> {\n  return <Promise<void>>validateConsentWithdrawn(argmap)\n    .then(() => validateContexts(contexts))\n    .then(\n      () => <Promise<void>>RNSnowplowTracker.trackConsentWithdrawnEvent({\n          tracker: namespace,\n          eventData: argmap,\n          contexts: contexts,\n        })\n    )\n    .catch((error) => {\n      throw new Error(`${logMessages.trackConsentWithdrawn} ${error.message}`);\n    });\n}\n\n/**\n * Tracks an ecommerce-transaction event\n *\n * @param namespace {string} - the tracker namespace\n * @param argmap {Object} - the event data\n * @param contexts {Array}- the event contexts\n * @returns {Promise}\n */\nfunction trackEcommerceTransactionEvent(\n  namespace: string,\n  argmap: EcommerceTransactionProps,\n  contexts: EventContext[] = []\n): Promise<void> {\n  return <Promise<void>>validateEcommerceTransaction(argmap)\n    .then(() => validateContexts(contexts))\n    .then(\n      () => <Promise<void>>RNSnowplowTracker.trackEcommerceTransactionEvent({\n          tracker: namespace,\n          eventData: argmap,\n          contexts: contexts,\n        })\n    )\n    .catch((error) => {\n      throw new Error(\n        `${logMessages.trackEcommerceTransaction} ${error.message}`\n      );\n    });\n}\n\nexport {\n  trackSelfDescribingEvent,\n  trackScreenViewEvent,\n  trackStructuredEvent,\n  trackPageViewEvent,\n  trackTimingEvent,\n  trackConsentGrantedEvent,\n  trackConsentWithdrawnEvent,\n  trackEcommerceTransactionEvent,\n};\n","/*\n * Copyright (c) 2020-2021 Snowplow Analytics Ltd. All rights reserved.\n *\n * This program is licensed to you under the Apache License Version 2.0,\n * and you may not use this file except in compliance with the Apache License Version 2.0.\n * You may obtain a copy of the Apache License Version 2.0 at http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the Apache License Version 2.0 is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the Apache License Version 2.0 for the specific language governing permissions and limitations there under.\n */\n\n'use strict';\n\nimport { RNSnowplowTracker } from './native';\nimport { logMessages } from './constants';\nimport {\n  isScreenSize,\n  isValidSubjectConf\n} from './configurations';\nimport type {\n  ScreenSize,\n  SubjectConfiguration\n} from './types';\n\n/**\n * Sets the userId of the tracker subject\n *\n * @param namespace {string} - the tracker namespace\n * @param newUid {string | null} - the new userId\n * @returns - Promise\n */\nfunction setUserId(namespace: string, newUid: string | null): Promise<void> {\n  if (!(newUid === null || typeof newUid === 'string')) {\n    return Promise.reject(new Error(logMessages.setUserId));\n  }\n  return <Promise<void>>Promise.resolve(RNSnowplowTracker.setUserId({\n    tracker:namespace,\n    userId: newUid\n  }));\n}\n\n/**\n * Sets the networkUserId of the tracker subject\n *\n * @param namespace {string} - the tracker namespace\n * @param newNuid {string | null} - the new networkUserId\n * @returns - Promise\n */\nfunction setNetworkUserId(namespace: string, newNuid: string | null): Promise<void> {\n  if (!(newNuid === null || typeof newNuid === 'string')) {\n    return Promise.reject(new Error(logMessages.setNetworkUserId));\n  }\n  return <Promise<void>>Promise.resolve(RNSnowplowTracker.setNetworkUserId({\n    tracker:namespace,\n    networkUserId: newNuid\n  }));\n}\n\n/**\n * Sets the domainUserId of the tracker subject\n *\n * @param namespace {string} - the tracker namespace\n * @param newDuid {string | null} - the new domainUserId\n * @returns - Promise\n */\nfunction setDomainUserId(namespace: string, newDuid: string | null): Promise<void> {\n  if (!(newDuid === null || typeof newDuid === 'string')) {\n    return Promise.reject(new Error(logMessages.setDomainUserId));\n  }\n  return <Promise<void>>Promise.resolve(RNSnowplowTracker.setDomainUserId({\n    tracker:namespace,\n    domainUserId: newDuid\n  }));\n}\n\n/**\n * Sets the ipAddress of the tracker subject\n *\n * @param namespace {string} - the tracker namespace\n * @param newIp {string | null} - the new ipAddress\n * @returns - Promise\n */\nfunction setIpAddress(namespace: string, newIp: string | null): Promise<void> {\n  if (!(newIp === null || typeof newIp === 'string')) {\n    return Promise.reject(new Error(logMessages.setIpAddress));\n  }\n  return <Promise<void>>Promise.resolve(RNSnowplowTracker.setIpAddress({\n    tracker:namespace,\n    ipAddress: newIp\n  }));\n}\n\n/**\n * Sets the useragent of the tracker subject\n *\n * @param namespace {string} - the tracker namespace\n * @param newUagent {string | null} - the new useragent\n * @returns - Promise\n */\nfunction setUseragent(namespace: string, newUagent: string | null): Promise<void> {\n  if (!(newUagent === null || typeof newUagent === 'string')) {\n    return Promise.reject(new Error(logMessages.setUseragent));\n  }\n  return <Promise<void>>Promise.resolve(RNSnowplowTracker.setUseragent({\n    tracker:namespace,\n    useragent: newUagent\n  }));\n}\n\n/**\n * Sets the timezone of the tracker subject\n *\n * @param namespace {string} - the tracker namespace\n * @param newTz {string | null} - the new timezone\n * @returns - Promise\n */\nfunction setTimezone(namespace: string, newTz: string | null): Promise<void> {\n  if (!(newTz === null || typeof newTz === 'string')) {\n    return Promise.reject(new Error(logMessages.setTimezone));\n  }\n  return <Promise<void>>Promise.resolve(RNSnowplowTracker.setTimezone({\n    tracker:namespace,\n    timezone: newTz\n  }));\n}\n\n/**\n * Sets the language of the tracker subject\n *\n * @param namespace {string} - the tracker namespace\n * @param newLang {string | null} - the new language\n * @returns - Promise\n */\nfunction setLanguage(namespace: string, newLang: string | null): Promise<void> {\n  if (!(newLang === null || typeof newLang === 'string')) {\n    return Promise.reject(new Error(logMessages.setLanguage));\n  }\n  return <Promise<void>>Promise.resolve(RNSnowplowTracker.setLanguage({\n    tracker:namespace,\n    language: newLang\n  }));\n}\n\n/**\n * Sets the screenResolution of the tracker subject\n *\n * @param namespace {string} - the tracker namespace\n * @param newRes {ScreenSize | null} - the new screenResolution\n * @returns - Promise\n */\nfunction setScreenResolution(namespace: string, newRes: ScreenSize | null): Promise<void> {\n  if (!(newRes === null || isScreenSize(newRes))) {\n    return Promise.reject(new Error(logMessages.setScreenResolution));\n  }\n  return <Promise<void>>Promise.resolve(RNSnowplowTracker.setScreenResolution({\n    tracker:namespace,\n    screenResolution: newRes\n  }));\n}\n\n/**\n * Sets the screenViewport of the tracker subject\n *\n * @param namespace {string} - the tracker namespace\n * @param newView {ScreenSize | null} - the new screenViewport\n * @returns - Promise\n */\nfunction setScreenViewport(namespace: string, newView: ScreenSize | null): Promise<void> {\n  if (!(newView === null || isScreenSize(newView))) {\n    return Promise.reject(new Error(logMessages.setScreenViewport));\n  }\n  return <Promise<void>>Promise.resolve(RNSnowplowTracker.setScreenViewport({\n    tracker:namespace,\n    screenViewport: newView\n  }));\n}\n\n/**\n * Sets the colorDepth of the tracker subject\n *\n * @param namespace {string} - the tracker namespace\n * @param newColorD {number | null} - the new colorDepth\n * @returns - Promise\n */\nfunction setColorDepth(namespace: string, newColorD: number | null): Promise<void> {\n  if (!(newColorD === null || typeof newColorD === 'number')) {\n    return Promise.reject(new Error(logMessages.setColorDepth));\n  }\n  return <Promise<void>>Promise.resolve(RNSnowplowTracker.setColorDepth({\n    tracker:namespace,\n    colorDepth: newColorD\n  }));\n}\n\nconst setterMap = {\n  userId: setUserId,\n  networkUserId: setNetworkUserId,\n  domainUserId: setDomainUserId,\n  ipAddress: setIpAddress,\n  useragent: setUseragent,\n  timezone: setTimezone,\n  language: setLanguage,\n  screenResolution: setScreenResolution,\n  screenViewport: setScreenViewport,\n  colorDepth: setColorDepth\n} as Record<keyof SubjectConfiguration, <Type>(namespace: string, x: Type | null) => Promise<void>>;\n\n/**\n * Sets the tracker subject\n *\n * @param namespace {string} - the tracker namespace\n * @param config {SubjectConfiguration} - the new subject data\n * @returns - Promise\n */\nfunction setSubjectData(\n  namespace: string,\n  config: SubjectConfiguration\n): Promise<void> {\n  if (!isValidSubjectConf(config)) {\n    return Promise.reject(new Error(`${logMessages.setSubjectData} ${logMessages.subject}`));\n  }\n\n  const promises = Object.keys(config)\n    .map((k) => {\n      const fun = setterMap[k];\n      return fun ? fun(namespace, config[k]) : undefined;\n    })\n    .filter((f) => f !== undefined);\n\n  // to use Promise.all (Promise.allSettled not supported in all RN versions)\n  const safePromises = promises\n    .map((p) => (p as Promise<void>)\n      .then((x) => Object.assign({\n        status: 'fulfilled',\n        value: x}) as PromiseFulfilledResult<void>)\n      .catch((err) => Object.assign({\n        status: 'rejected',\n        reason: err.message as string}) as PromiseRejectedResult));\n\n  return <Promise<void>>Promise.all(safePromises).then((outcomes) => {\n    const anyReasons = outcomes.filter((res) => res.status === 'rejected') as PromiseRejectedResult[];\n    if (anyReasons.length > 0) {\n      const allReasons = anyReasons\n        .reduce((acc, curr) => acc + ':' + curr.reason, logMessages.setSubjectData);\n      throw new Error(allReasons);\n    }\n    return true;\n  });\n}\n\nexport {\n  setUserId,\n  setNetworkUserId,\n  setDomainUserId,\n  setIpAddress,\n  setUseragent,\n  setTimezone,\n  setLanguage,\n  setScreenResolution,\n  setScreenViewport,\n  setColorDepth,\n  setSubjectData\n};\n","/*\n * Copyright (c) 2020-2021 Snowplow Analytics Ltd. All rights reserved.\n *\n * This program is licensed to you under the Apache License Version 2.0,\n * and you may not use this file except in compliance with the Apache License Version 2.0.\n * You may obtain a copy of the Apache License Version 2.0 at http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the Apache License Version 2.0 is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the Apache License Version 2.0 for the specific language governing permissions and limitations there under.\n */\n\n'use strict';\n\nimport { RNSnowplowTracker } from './native';\nimport { initValidate, isValidGC } from './configurations';\nimport { logMessages } from './constants';\nimport * as tracker from './tracker';\nimport * as subject from './subject';\n\nimport type {\n  InitTrackerConfiguration,\n  SubjectConfiguration,\n  SelfDescribing,\n  EventContext,\n  ScreenViewProps,\n  StructuredProps,\n  PageViewProps,\n  TimingProps,\n  ConsentGrantedProps,\n  ConsentWithdrawnProps,\n  EcommerceTransactionProps,\n  GlobalContext,\n  ScreenSize,\n} from './types';\n\n/**\n * Create a tracker from specified initial configuration.\n *\n * @param initConfig {Object} - The initial tracker configuration\n * @returns - A promise fullfilled if the tracker is initialized\n */\nfunction createTracker(initConfig: InitTrackerConfiguration): Promise<void> {\n  return <Promise<void>>initValidate(initConfig)\n    .then(() => <Promise<void>>RNSnowplowTracker.createTracker(initConfig))\n    .catch((error) => {\n      throw new Error(`${logMessages.createTracker} ${error.message}.`);\n    });\n}\n\n/**\n * Removes the tracker with given namespace\n *\n * @param trackerNamespace {string} - The tracker namespace\n * @returns - A boolean promise\n */\nfunction removeTracker(trackerNamespace: string): Promise<boolean> {\n  if (typeof trackerNamespace !== 'string') {\n    return Promise.reject(new Error(logMessages.removeTracker));\n  }\n  return <Promise<boolean>>Promise.resolve(RNSnowplowTracker.removeTracker({tracker:trackerNamespace}));\n}\n\n/**\n * Removes all existing trackers\n *\n * @returns - A void promise\n */\nfunction removeAllTrackers(): Promise<boolean> {\n  return <Promise<boolean>>Promise.resolve(RNSnowplowTracker.removeAllTrackers());\n}\n\n/**\n * Returns a function to track a SelfDescribing event by a tracker\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to track a SelfDescribing event\n */\nfunction trackSelfDescribingEvent(namespace: string) {\n  return function (\n    argmap: SelfDescribing,\n    contexts: EventContext[] = []\n  ): Promise<void> {\n    return tracker.trackSelfDescribingEvent(namespace, argmap, contexts);\n  };\n}\n\n/**\n * Returns a function to track a ScreenView event by a tracker\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to track a ScreenView event\n */\nfunction trackScreenViewEvent(namespace: string) {\n  return function (\n    argmap: ScreenViewProps,\n    contexts: EventContext[] = []\n  ): Promise<void> {\n    return tracker.trackScreenViewEvent(namespace, argmap, contexts);\n  };\n}\n\n/**\n * Returns a function to track a Structured event by a tracker\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to track a Structured event\n */\nfunction trackStructuredEvent(namespace: string) {\n  return function (\n    argmap: StructuredProps,\n    contexts: EventContext[] = []\n  ): Promise<void> {\n    return tracker.trackStructuredEvent(namespace, argmap, contexts);\n  };\n}\n\n/**\n * Returns a function to track a PageView event by a tracker\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to track a PageView event\n */\nfunction trackPageViewEvent(namespace: string) {\n  return function (\n    argmap: PageViewProps,\n    contexts: EventContext[] = []\n  ): Promise<void> {\n    return tracker.trackPageViewEvent(namespace, argmap, contexts);\n  };\n}\n\n/**\n * Returns a function to track a Timing event by a tracker\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to track a Timing event\n */\nfunction trackTimingEvent(namespace: string) {\n  return function (\n    argmap: TimingProps,\n    contexts: EventContext[] = []\n  ): Promise<void> {\n    return tracker.trackTimingEvent(namespace, argmap, contexts);\n  };\n}\n\n/**\n * Returns a function to track a ConsentGranted event by a tracker\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to track a ConsentGranted event\n */\nfunction trackConsentGrantedEvent(namespace: string) {\n  return function (\n    argmap: ConsentGrantedProps,\n    contexts: EventContext[] = []\n  ): Promise<void> {\n    return tracker.trackConsentGrantedEvent(namespace, argmap, contexts);\n  };\n}\n\n/**\n * Returns a function to track a ConsentWithdrawn event by a tracker\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to track a ConsentWithdrawn event\n */\nfunction trackConsentWithdrawnEvent(namespace: string) {\n  return function (\n    argmap: ConsentWithdrawnProps,\n    contexts: EventContext[] = []\n  ): Promise<void> {\n    return tracker.trackConsentWithdrawnEvent(namespace, argmap, contexts);\n  };\n}\n\n/**\n * Returns a function to track an EcommerceTransaction event by a tracker\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to track an EcommerceTransaction event\n */\nfunction trackEcommerceTransactionEvent(namespace: string) {\n  return function (\n    argmap: EcommerceTransactionProps,\n    contexts: EventContext[] = []\n  ): Promise<void> {\n    return tracker.trackEcommerceTransactionEvent(namespace, argmap, contexts);\n  };\n}\n\n/**\n * Returns a function to remove global contexts by a tracker\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to remove global contexts\n */\nfunction removeGlobalContexts(namespace:string) {\n  return function (tag: string): Promise<void> {\n    if (typeof tag !== 'string') {\n      return Promise.reject(new Error(`${logMessages.removeGlobalContexts} ${logMessages.gcTagType}`));\n    }\n    return <Promise<void>>Promise.resolve(RNSnowplowTracker.removeGlobalContexts({tracker:namespace, removeTag: tag}));\n  };\n}\n\n/**\n * Returns a function to add global contexts by a tracker\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to add global contexts\n */\nfunction addGlobalContexts(namespace:string) {\n  return function (gc: GlobalContext): Promise<void> {\n    if (!isValidGC(gc)) {\n      return Promise.reject(new Error(`${logMessages.addGlobalContexts} ${logMessages.gcType}`));\n    }\n    return <Promise<void>>Promise.resolve(RNSnowplowTracker.addGlobalContexts({tracker:namespace, addGlobalContext: gc}));\n  };\n}\n\n/**\n * Returns a function to set the subject userId\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to set the userId\n */\nfunction setUserId(namespace:string) {\n  return function (newUid: string | null): Promise<void> {\n    return subject.setUserId(namespace, newUid);\n  };\n}\n\n/**\n * Returns a function to set the subject networkUserId\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to set the networkUserId\n */\nfunction setNetworkUserId(namespace:string) {\n  return function (newNuid: string | null): Promise<void> {\n    return subject.setNetworkUserId(namespace, newNuid);\n  };\n}\n\n/**\n * Returns a function to set the subject domainUserId\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to set the domainUserId\n */\nfunction setDomainUserId(namespace:string) {\n  return function (newDuid: string | null): Promise<void> {\n    return subject.setDomainUserId(namespace, newDuid);\n  };\n}\n\n/**\n * Returns a function to set the subject ipAddress\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to set the ipAddress\n */\nfunction setIpAddress(namespace:string) {\n  return function (newIp: string | null): Promise<void> {\n    return subject.setIpAddress(namespace, newIp);\n  };\n}\n\n/**\n * Returns a function to set the subject useragent\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to set the useragent\n */\nfunction setUseragent(namespace:string) {\n  return function (newUagent: string | null): Promise<void> {\n    return subject.setUseragent(namespace, newUagent);\n  };\n}\n\n/**\n * Returns a function to set the subject timezone\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to set the timezone\n */\nfunction setTimezone(namespace:string) {\n  return function (newTz: string | null): Promise<void> {\n    return subject.setTimezone(namespace, newTz);\n  };\n}\n\n/**\n * Returns a function to set the subject language\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to set the language\n */\nfunction setLanguage(namespace:string) {\n  return function (newLang: string | null): Promise<void> {\n    return subject.setLanguage(namespace, newLang);\n  };\n}\n\n/**\n * Returns a function to set the subject screenResolution\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to set the screenResolution\n */\nfunction setScreenResolution(namespace:string) {\n  return function (newRes: ScreenSize | null): Promise<void> {\n    return subject.setScreenResolution(namespace, newRes);\n  };\n}\n\n/**\n * Returns a function to set the subject screenViewport\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to set the screenViewport\n */\nfunction setScreenViewport(namespace:string) {\n  return function (newView: ScreenSize | null): Promise<void> {\n    return subject.setScreenViewport(namespace, newView);\n  };\n}\n\n/**\n * Returns a function to set the subject colorDepth\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to set the colorDepth\n */\nfunction setColorDepth(namespace:string) {\n  return function (newColorD: number | null): Promise<void> {\n    return subject.setColorDepth(namespace, newColorD);\n  };\n}\n\n/**\n * Returns a function to set subject data\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to set subject data\n */\nfunction setSubjectData(namespace:string) {\n  return function (config: SubjectConfiguration): Promise<void> {\n    return subject.setSubjectData(namespace, config);\n  };\n}\n\n/**\n * Returns a function to get the current session userId\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to get the session userId\n */\nfunction getSessionUserId(namespace: string) {\n  return function (): Promise<string> {\n    return <Promise<string>>Promise\n      .resolve(RNSnowplowTracker.getSessionUserId({tracker: namespace}));\n  };\n}\n\n/**\n * Returns a function to get the current sessionId\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to get the sessionId\n */\nfunction getSessionId(namespace: string) {\n  return function (): Promise<string> {\n    return <Promise<string>>Promise\n      .resolve(RNSnowplowTracker.getSessionId({tracker: namespace}));\n  };\n}\n\n/**\n * Returns a function to get the current session index\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to get the session index\n */\nfunction getSessionIndex(namespace: string) {\n  return function (): Promise<number> {\n    return <Promise<number>>Promise\n      .resolve(RNSnowplowTracker.getSessionIndex({tracker: namespace}));\n  };\n}\n\n/**\n * Returns a function to get whether the app is in background\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to get whether the app isInBackground\n */\nfunction getIsInBackground(namespace: string) {\n  return function (): Promise<boolean> {\n    return <Promise<boolean>>Promise\n      .resolve(RNSnowplowTracker.getIsInBackground({tracker: namespace}));\n  };\n}\n\n/**\n * Returns a function to get the background index\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to get the backgroundIndex\n */\nfunction getBackgroundIndex(namespace: string) {\n  return function (): Promise<number> {\n    return <Promise<number>>Promise\n      .resolve(RNSnowplowTracker.getBackgroundIndex({tracker: namespace}));\n  };\n}\n\n/**\n * Returns a function to get the foreground index\n *\n * @param namespace {string} - The tracker namespace\n * @returns - A function to get the foregroundIndex\n */\nfunction getForegroundIndex(namespace: string) {\n  return function (): Promise<number> {\n    return <Promise<number>>Promise\n      .resolve(RNSnowplowTracker.getForegroundIndex({tracker: namespace}));\n  };\n}\n\nexport {\n  createTracker,\n  removeTracker,\n  removeAllTrackers,\n  trackSelfDescribingEvent,\n  trackScreenViewEvent,\n  trackStructuredEvent,\n  trackPageViewEvent,\n  trackTimingEvent,\n  trackConsentGrantedEvent,\n  trackConsentWithdrawnEvent,\n  trackEcommerceTransactionEvent,\n  removeGlobalContexts,\n  addGlobalContexts,\n  setUserId,\n  setNetworkUserId,\n  setDomainUserId,\n  setIpAddress,\n  setUseragent,\n  setTimezone,\n  setLanguage,\n  setScreenResolution,\n  setScreenViewport,\n  setColorDepth,\n  setSubjectData,\n  getSessionUserId,\n  getSessionId,\n  getSessionIndex,\n  getIsInBackground,\n  getBackgroundIndex,\n  getForegroundIndex,\n};\n","/*\n * Copyright (c) 2020-2021 Snowplow Analytics Ltd. All rights reserved.\n *\n * This program is licensed to you under the Apache License Version 2.0,\n * and you may not use this file except in compliance with the Apache License Version 2.0.\n * You may obtain a copy of the Apache License Version 2.0 at http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the Apache License Version 2.0 is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the Apache License Version 2.0 for the specific language governing permissions and limitations there under.\n */\n\n'use strict';\n\nimport * as api from './api';\nimport { safeWait, safeWaitCallback, errorHandler } from './utils';\nimport type {\n  NetworkConfiguration,\n  TrackerControllerConfiguration,\n  ReactNativeTracker\n} from './types';\n\n/**\n * Creates a React Native Tracker object\n *\n * @param namespace {string} - The tracker namespace\n * @param networkConfig {Object} - The network configuration\n * @param control {Array} - The tracker controller configuration\n * @returns The tracker object\n */\nfunction createTracker(\n  namespace: string,\n  networkConfig: NetworkConfiguration,\n  controllerConfig: TrackerControllerConfiguration = {}\n): ReactNativeTracker {\n  // initTrackerPromise\n  const initTrackerPromise: Promise<void> = Promise.resolve(\n    api.createTracker({\n      namespace,\n      networkConfig,\n      ...controllerConfig\n    })\n  );\n\n  // mkMethod creates methods subscribed to the initTrackerPromise\n  const mkMethod = safeWait(initTrackerPromise, errorHandler);\n\n  // mkCallback creates callbacks subscribed to the initTrackerPromise\n  const mkCallback = safeWaitCallback(initTrackerPromise, errorHandler);\n\n  // track methods\n  const trackSelfDescribingEvent = mkMethod(api.trackSelfDescribingEvent(namespace));\n  const trackScreenViewEvent = mkMethod(api.trackScreenViewEvent(namespace));\n  const trackStructuredEvent = mkMethod(api.trackStructuredEvent(namespace));\n  const trackPageViewEvent = mkMethod(api.trackPageViewEvent(namespace));\n  const trackTimingEvent = mkMethod(api.trackTimingEvent(namespace));\n  const trackConsentGrantedEvent = mkMethod(api.trackConsentGrantedEvent(namespace));\n  const trackConsentWithdrawnEvent = mkMethod(api.trackConsentWithdrawnEvent(namespace));\n  const trackEcommerceTransactionEvent = mkMethod(api.trackEcommerceTransactionEvent(namespace));\n  // Global Contexts\n  const removeGlobalContexts = mkMethod(api.removeGlobalContexts(namespace));\n  const addGlobalContexts = mkMethod(api.addGlobalContexts(namespace));\n  // setters\n  const setUserId = mkMethod(api.setUserId(namespace));\n  const setNetworkUserId = mkMethod(api.setNetworkUserId(namespace));\n  const setDomainUserId = mkMethod(api.setDomainUserId(namespace));\n  const setIpAddress = mkMethod(api.setIpAddress(namespace));\n  const setUseragent = mkMethod(api.setUseragent(namespace));\n  const setTimezone = mkMethod(api.setTimezone(namespace));\n  const setLanguage = mkMethod(api.setLanguage(namespace));\n  const setScreenResolution = mkMethod(api.setScreenResolution(namespace));\n  const setScreenViewport = mkMethod(api.setScreenViewport(namespace));\n  const setColorDepth = mkMethod(api.setColorDepth(namespace));\n  const setSubjectData = mkMethod(api.setSubjectData(namespace));\n\n  // callbacks\n  const getSessionUserId = mkCallback(api.getSessionUserId(namespace));\n  const getSessionId = mkCallback(api.getSessionId(namespace));\n  const getSessionIndex = mkCallback(api.getSessionIndex(namespace));\n  const getIsInBackground = mkCallback(api.getIsInBackground(namespace));\n  const getBackgroundIndex = mkCallback(api.getBackgroundIndex(namespace));\n  const getForegroundIndex = mkCallback(api.getForegroundIndex(namespace));\n\n  return Object.freeze({\n    trackSelfDescribingEvent,\n    trackScreenViewEvent,\n    trackStructuredEvent,\n    trackPageViewEvent,\n    trackTimingEvent,\n    trackConsentGrantedEvent,\n    trackConsentWithdrawnEvent,\n    trackEcommerceTransactionEvent,\n    removeGlobalContexts,\n    addGlobalContexts,\n    setUserId,\n    setNetworkUserId,\n    setDomainUserId,\n    setIpAddress,\n    setUseragent,\n    setTimezone,\n    setLanguage,\n    setScreenResolution,\n    setScreenViewport,\n    setColorDepth,\n    setSubjectData,\n    getSessionUserId,\n    getSessionId,\n    getSessionIndex,\n    getIsInBackground,\n    getBackgroundIndex,\n    getForegroundIndex,\n  });\n}\n\n/**\n * Removes a tracker given its namespace\n *\n * @param trackerNamespace {string}\n * @returns - A boolean promise\n */\nfunction removeTracker(trackerNamespace: string): Promise<boolean> {\n  return <Promise<boolean>>api.removeTracker(trackerNamespace)\n    .catch((e) => errorHandler(e));\n}\n\n/**\n * Removes all trackers\n *\n * @returns - A boolean promise\n */\nfunction removeAllTrackers(): Promise<boolean> {\n  return <Promise<boolean>>api.removeAllTrackers()\n    .catch((e) => errorHandler(e));\n}\n\n\nexport {\n  createTracker,\n  removeTracker,\n  removeAllTrackers,\n};\n\nexport type {\n  ReactNativeTracker,\n  TrackerControllerConfiguration,\n  NetworkConfiguration,\n  TrackerConfiguration,\n  SessionConfiguration,\n  EmitterConfiguration,\n  SubjectConfiguration,\n  GdprConfiguration,\n  GCConfiguration,\n  SelfDescribing,\n  EventContext,\n  ScreenViewProps,\n  StructuredProps,\n  PageViewProps,\n  TimingProps,\n  ConsentGrantedProps,\n  ConsentWithdrawnProps,\n  EcommerceTransactionProps,\n  EcommerceItem,\n  ConsentDocument,\n  GlobalContext,\n  HttpMethod,\n  DevicePlatform,\n  LogLevel,\n  Basis,\n  BufferOption,\n  ScreenSize,\n} from './types';\n"],"names":["trackSelfDescribingEvent","trackScreenViewEvent","trackStructuredEvent","trackPageViewEvent","trackTimingEvent","trackConsentGrantedEvent","trackConsentWithdrawnEvent","trackEcommerceTransactionEvent","setUserId","setNetworkUserId","setDomainUserId","setIpAddress","setUseragent","setTimezone","setLanguage","setScreenResolution","setScreenViewport","setColorDepth","setSubjectData","createTracker","removeTracker","removeAllTrackers","tracker.trackSelfDescribingEvent","tracker.trackScreenViewEvent","tracker.trackStructuredEvent","tracker.trackPageViewEvent","tracker.trackTimingEvent","tracker.trackConsentGrantedEvent","tracker.trackConsentWithdrawnEvent","tracker.trackEcommerceTransactionEvent","subject.setUserId","subject.setNetworkUserId","subject.setDomainUserId","subject.setIpAddress","subject.setUseragent","subject.setTimezone","subject.setLanguage","subject.setScreenResolution","subject.setScreenViewport","subject.setColorDepth","subject.setSubjectData","api.createTracker","api.trackSelfDescribingEvent","api.trackScreenViewEvent","api.trackStructuredEvent","api.trackPageViewEvent","api.trackTimingEvent","api.trackConsentGrantedEvent","api.trackConsentWithdrawnEvent","api.trackEcommerceTransactionEvent","removeGlobalContexts","api.removeGlobalContexts","addGlobalContexts","api.addGlobalContexts","api.setUserId","api.setNetworkUserId","api.setDomainUserId","api.setIpAddress","api.setUseragent","api.setTimezone","api.setLanguage","api.setScreenResolution","api.setScreenViewport","api.setColorDepth","api.setSubjectData","getSessionUserId","api.getSessionUserId","getSessionId","api.getSessionId","getSessionIndex","api.getSessionIndex","getIsInBackground","api.getIsInBackground","getBackgroundIndex","api.getBackgroundIndex","getForegroundIndex","api.getForegroundIndex","api.removeTracker","api.removeAllTrackers"],"mappings":"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"}